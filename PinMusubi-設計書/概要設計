[共通処理]
- 2点間移動時間計算処理（引数1：出発座標、引数2：到着座標）
  - MapKitを用いて出発座標から到着座標までの移動時間を計算する
  - 移動時間の構造体（徒歩、車、交通機関）を返す

- 検索履歴テーブルへの登録処理
  - 検索履歴テーブルへ設定地点名、設定地点座標、中心座標、検索日時を登録する

[マップ画面の処理]
- 初期処理
  - マップを表示する
  - 設定条件が存在する場合
    - ピン設置処理を実行する
  - 設定条件が存在しない場合
    - タブバーのピンアイコンの上部にメッセージ「地点を設定しましょう！」を表示する

- ピン設置処理（履歴、お気に入り、地点設定画面から遷移した時に実行される）
  - 設定条件から設定地点の座標を取得する
  - 設定条件からセンターピンの座標を取得する
    - 設定条件にセンターピンの座標が存在しない場合
      - 複数地点の中間地点を計算する処理を実行する
  - 設定条件の設定地点の座標にピン（or印）を設置する
  - 設定条件のセンターピンの座標に可動ピンを設定する
  - それぞれの設定地点の座標からセンターピンの座標までの
    移動時間（徒歩、車、交通機関）を2点間移動時間計算処理を用いて取得する
  - 設定地点上部の吹き出しを表示し、吹き出しの中のラベルに設定条件の地点の名前と
    取得した移動時間（徒歩、車、交通機関）を設定する
  - センターピン上部に吹き出しを表示し、吹き出しの中のラベルに
    メッセージ「ここのスポットを見てみる！」を表示する
  - MAPの中央をセンターピンの座標に合わせる

- センターピン移動時処理（センターピン長押し状態）
  - ピンを浮かす
  - 設定地点とセンターピンの吹き出しをViewから取り除く

- センターピン設置時処理
  - センターピンの位置から座標を取得し、センターピン座標に設定する
  - それぞれの設定地点の座標からセンターピンの座標までの
    移動時間（徒歩、車、交通機関）を2点間移動時間計算処理を用いて取得する
  - 移動時間を吹き出しの移動時間ラベルに設定し、吹き出しを表示する

-　複数地点の中間地点を計算する処理
  - 地点のリストを引数として受け取る
  - 複数の座標の中間地点を求める計算処理を行う
  - 求めた中間地点の座標を返す

- センターピンおよび吹き出しタップ時の処理
  - 検索履歴テーブルへの登録処理を行う
  - スポット一覧画面へ遷移し、センターピンの座標を値渡しする

[ローディング画面]
- 初期処理
  - ローディングバーを動かす
  - 広告を表示する
  - 次へボタンを非活性にする

- ローディングバーが100%になった時の処理
  - 次へボタンを活性にする

- 次へボタンを押した時の処理
  - ローディング画面を閉じる

[スポット一覧画面]
- 初期処理
